<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AUTO</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <div class="brand">
          <div class="logo">A</div>
          <div>
            <div class="brand-title">AUTO</div>
            <div class="brand-sub">AI Builder on AWS</div>
          </div>
        </div>
        <div class="top-controls">
          <div id="awsBadge" class="aws-badge disconnected">AWS: Not connected</div>
          <button id="togglePanel" class="btn secondary">Settings</button>
        </div>
      </header>

      <div class="main">
        <section class="chat-area">
          <div id="chat" class="chat"></div>
          <div class="tools-bar">
            <button id="githubBtn" class="tool-btn" title="Analyze a GitHub repo">GitHub</button>
            <button id="imageGenBtn" class="tool-btn" title="Generate an image">Image</button>
            <label class="tool-btn" title="Analyze an uploaded image">
              Analyze
              <input id="imageUpload" type="file" accept="image/*" hidden />
            </label>
          </div>
          <div class="composer">
            <textarea id="prompt" rows="2" placeholder="Ask AUTO anything... (Ctrl+Enter to send)"></textarea>
            <div class="composer-actions">
              <button id="send" class="btn">Send</button>
              <button id="clear" class="btn secondary">Clear</button>
            </div>
          </div>
        </section>

        <aside id="sidePanel" class="side-panel hidden">
          <div class="panel-section">
            <div class="panel-label">AWS Credentials</div>
            <div class="panel-hint">Enter your AWS keys to run write actions</div>
            <input id="awsAccessKey" class="input full" placeholder="Access Key ID" />
            <input id="awsSecretKey" class="input full" type="password" placeholder="Secret Access Key" />
            <input id="awsSessionToken" class="input full" placeholder="Session Token (optional)" />
            <input id="awsRegion" class="input full" placeholder="Region" value="us-east-1" />
            <button id="validateAws" class="btn full">Connect</button>
            <div id="awsStatusMsg" class="status-msg"></div>
          </div>

          <div class="panel-section">
            <div class="panel-label">Run an AWS Action</div>
            <div class="panel-hint">Pick an action and fill in the details</div>
            <select id="operation" class="input full">
              <option value="s3_put_object">Upload file to S3</option>
              <option value="s3_delete_object">Delete file from S3</option>
              <option value="cloudfront_invalidate">Clear CloudFront cache</option>
              <option value="dynamodb_put_item">Write to DynamoDB</option>
              <option value="lambda_update_env">Update Lambda env vars</option>
            </select>
            <div id="actionForm" class="action-form"></div>
            <button id="executeAws" class="btn danger full">Run Action</button>
            <div id="actionResult" class="status-msg"></div>
          </div>

          <div class="panel-section">
            <div class="panel-label">Log</div>
            <div id="runLog" class="log"></div>
          </div>
        </aside>
      </div>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
